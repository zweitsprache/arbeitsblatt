{
    "chat.tools.terminal.autoApprove": {
        "/^cd \"/Users/mallenspach/Dropbox/00 Claude Code/arbeitsblatt\" && python3 -c \"\nimport json\n\nwith open\\('src/messages/en\\.json', 'r'\\) as f:\n    en = json\\.load\\(f\\)\nwith open\\('src/messages/de\\.json', 'r'\\) as f:\n    de = json\\.load\\(f\\)\n\ndef flatten\\(d, prefix=''\\):\n    result = \\{\\}\n    for k, v in d\\.items\\(\\):\n        key = f'\\{prefix\\}\\.\\{k\\}' if prefix else k\n        if isinstance\\(v, dict\\):\n            result\\.update\\(flatten\\(v, key\\)\\)\n        else:\n            result\\[key\\] = v\n    return result\n\nen_keys = set\\(flatten\\(en\\)\\.keys\\(\\)\\)\nde_keys = set\\(flatten\\(de\\)\\.keys\\(\\)\\)\n\nmissing_in_en = de_keys - en_keys\nmissing_in_de = en_keys - de_keys\n\nprint\\('=== Keys in DE but NOT in EN ==='\\)\nfor k in sorted\\(missing_in_en\\):\n    print\\(f'  \\{k\\}'\\)\nprint\\(f'Total: \\{len\\(missing_in_en\\)\\}'\\)\n\nprint\\(\\)\nprint\\('=== Keys in EN but NOT in DE ==='\\)\nfor k in sorted\\(missing_in_de\\):\n    print\\(f'  \\{k\\}'\\)\nprint\\(f'Total: \\{len\\(missing_in_de\\)\\}'\\)\n\nprint\\(f'EN total keys: \\{len\\(en_keys\\)\\}'\\)\nprint\\(f'DE total keys: \\{len\\(de_keys\\)\\}'\\)\n\"\n$/": {
            "approve": true,
            "matchCommandLine": true
        },
        "/^cd \"/Users/mallenspach/Dropbox/00 Claude Code/arbeitsblatt\" && python3 << 'PYEOF'\nimport json, re, os, glob\n\nwith open\\('src/messages/en\\.json', 'r'\\) as f:\n    en = json\\.load\\(f\\)\nwith open\\('src/messages/de\\.json', 'r'\\) as f:\n    de = json\\.load\\(f\\)\n\n# Find all \\.tsx and \\.ts files\nfiles = \\[\\]\nfor ext in \\['\\*\\.tsx', '\\*\\.ts'\\]:\n    files\\.extend\\(glob\\.glob\\(f'src/\\*\\*/\\{ext\\}', recursive=True\\)\\)\n\n# Extract namespace -> set of keys\nused_keys = \\{\\}  # namespace -> set of keys\n\nfor filepath in files:\n    with open\\(filepath, 'r'\\) as f:\n        content = f\\.read\\(\\)\n    \n    # Find useTranslations\\(\"namespace\"\\) patterns\n    # Track variable name -> namespace\n    var_to_ns = \\{\\}\n    for m in re\\.finditer\\(r'const\\\\s\\+\\(\\\\w\\+\\)\\\\s\\*=\\\\s\\*useTranslations\\\\\\(\\\\s\\*\\[\"\\\\'\\]\\(\\\\w\\+\\)\\[\"\\\\'\\]\\\\s\\*\\\\\\)', content\\):\n        var_name, ns = m\\.group\\(1\\), m\\.group\\(2\\)\n        var_to_ns\\[var_name\\] = ns\n    \n    # For getTranslations\n    for m in re\\.finditer\\(r'const\\\\s\\+\\(\\\\w\\+\\)\\\\s\\*=\\\\s\\*await\\\\s\\+getTranslations\\\\\\(\\\\s\\*\\[\"\\\\'\\]\\(\\\\w\\+\\)\\[\"\\\\'\\]\\\\s\\*\\\\\\)', content\\):\n        var_name, ns = m\\.group\\(1\\), m\\.group\\(2\\)\n        var_to_ns\\[var_name\\] = ns\n    \n    # Find all t\\(\"key\"\\), tc\\(\"key\"\\), tb\\(\"key\"\\), tTf\\(\"key\"\\) etc\n    for var_name, ns in var_to_ns\\.items\\(\\):\n        escaped = re\\.escape\\(var_name\\)\n        # Match var\\(\"key\"\\) and var\\(\"key\", \\{\\.\\.\\.\\}\\)\n        for m in re\\.finditer\\(escaped \\+ r'\\\\\\(\\\\s\\*\\[\"\\\\'\\]\\(\\[a-zA-Z0-9_\\.\\]\\+\\)\\[\"\\\\'\\]', content\\):\n            key = m\\.group\\(1\\)\n            if ns not in used_keys:\n                used_keys\\[ns\\] = set\\(\\)\n            used_keys\\[ns\\]\\.add\\(key\\)\n\nprint\\(\"=\" \\* 60\\)\nprint\\(\"KEYS USED IN CODE BUT MISSING FROM TRANSLATION FILES\"\\)\nprint\\(\"=\" \\* 60\\)\n\nmissing_count = 0\nfor ns in sorted\\(used_keys\\.keys\\(\\)\\):\n    for key in sorted\\(used_keys\\[ns\\]\\):\n        en_missing = ns not in en or key not in en\\.get\\(ns, \\{\\}\\)\n        de_missing = ns not in de or key not in de\\.get\\(ns, \\{\\}\\)\n        if en_missing or de_missing:\n            missing_count \\+= 1\n            flags = \\[\\]\n            if en_missing:\n                flags\\.append\\(\"EN\"\\)\n            if de_missing:\n                flags\\.append\\(\"DE\"\\)\n            print\\(f\"  \\{ns\\}\\.\\{key\\} - MISSING in: \\{', '\\.join\\(flags\\)\\}\"\\)\n\nif missing_count == 0:\n    print\\(\"  \\(none\\)\"\\)\nelse:\n    print\\(f\"\\\\nTotal missing: \\{missing_count\\}\"\\)\n\nprint\\(\\)\nprint\\(\"=\" \\* 60\\)\nprint\\(\"KEYS IN TRANSLATION FILES BUT NEVER USED IN CODE\"\\)\nprint\\(\"=\" \\* 60\\)\nunused_count = 0\nfor ns in sorted\\(en\\.keys\\(\\)\\):\n    if isinstance\\(en\\[ns\\], dict\\):\n        for key in sorted\\(en\\[ns\\]\\.keys\\(\\)\\):\n            if ns not in used_keys or key not in used_keys\\[ns\\]:\n                unused_count \\+= 1\n                print\\(f\"  \\{ns\\}\\.\\{key\\}\"\\)\n\nif unused_count == 0:\n    print\\(\"  \\(none\\)\"\\)\nelse:\n    print\\(f\"\\\\nTotal unused: \\{unused_count\\}\"\\)\n\nprint\\(\\)\nprint\\(\"=\" \\* 60\\)\nprint\\(\"NAMESPACES USED IN CODE\"\\)\nprint\\(\"=\" \\* 60\\)\nfor ns in sorted\\(used_keys\\.keys\\(\\)\\):\n    in_en = ns in en\n    in_de = ns in de\n    status = \"OK\" if in_en and in_de else f\"MISSING: \\{'EN ' if not in_en else ''\\}\\{'DE' if not in_de else ''\\}\"\n    print\\(f\"  \\{ns\\}: \\{len\\(used_keys\\[ns\\]\\)\\} keys used \\(\\{status\\}\\)\"\\)\n\nPYEOF\n$/": {
            "approve": true,
            "matchCommandLine": true
        }
    }
}